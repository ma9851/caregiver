nav.navbar.navbar-default
    .container-fluid
        .navbar-header
            button.navbar-toggle.collapsed(type='button', data-toggle='collapse', data-target='#bs-example-navbar-collapse-1', aria-expanded='false')
                span.sr-only Toggle navigation
                span.icon-bar
                span.icon-bar
                span.icon-bar
            |
            a.navbar-brand(href='') Caregiver
        .collapse.navbar-collapse.navbar-ex1-collapse
            ul.nav.navbar-nav
                if navbar.overview
                    li.active
                        a(href='/overview')
                            i.fa.fa-home.fa-lg
                else
                    li
                        a(href='/overview')
                            i.fa.fa-home.fa-lg
                if navbar.profile
                    li.active
                        a(href='/profile') Profile
                else
                    li
                        a(href='/profile') Profile
                if navbar.messages
                    li.active
                        a(href='/messages') Messages
                else
                    li
                        a(href='/messages') Messages
                if navbar.patients
                    li.active
                        a(href='/patient/all') Patient List
                else
                    li
                        a(href='/patient/all') Patient List
                if navbar.schedule
                    li.active
                        a(href='/schedule') Schedule
                else
                    li
                        a(href='/schedule') Schedule
                li
                    a(href='')
                        i.fa.fa-bell
                li
                    a(href='/') Logout
            form.navbar-form.navbar-left(role='search')
                .form-group
                    input.form-control(type='text', placeholder='Search')
                |
                button.btn.btn-default(type='submit') Submit
            ul.nav.navbar-nav.navbar-right
                li.list-group-item-danger
                    a(href='')#emergencyLink Emergency
script.
    var messagesPatientBool = window.location.toString().match(/\/messages\/(\w+)$/g) !== null;
    var profilePatientBool = window.location.toString().match(/\/patient\/(\w+)$/g) !== null;
    var patientID;
    if (messagesPatientBool || profilePatientBool) {
        if (messagesPatientBool) {
            patientID = window.location.toString().match(/\/messages\/(\w+)/g).toString().replace("/messages/", "");
            document.getElementById("emergencyLink").setAttribute('href', '/emergency/' + patientID);
        } else if (profilePatientBool) {
            patientID = window.location.toString().match(/\/patient\/(\w+)/g).toString().replace("/patient/", "");
            document.getElementById("emergencyLink").setAttribute('href', '/emergency/' + patientID);
        }
    } else {
        document.getElementById("emergencyLink").setAttribute('href', '/emergency');
    }